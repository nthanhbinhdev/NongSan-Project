<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thanh toán - Nông Sản Việt</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/themify-icons/0.1.2/css/themify-icons.css"
    />

    <style>
      .payment-method-card {
        border: 2px solid #dee2e6;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .payment-method-card:hover {
        border-color: #71b979;
        background-color: #f8f9fa;
      }

      .payment-method-card.selected {
        border-color: #71b979;
        background-color: #e8f5e9;
      }

      .payment-icon {
        font-size: 2rem;
        width: 50px;
        text-align: center;
      }

      .payment-info {
        flex: 1;
      }

      .payment-info h4 {
        font-size: 1.1rem;
        margin-bottom: 5px;
      }

      .payment-info p {
        font-size: 0.9rem;
        color: #6c757d;
        margin-bottom: 0;
      }

      .bank-info {
        display: none;
        margin-top: 10px;
        padding: 15px;
        background-color: #fff3cd;
        border-left: 4px solid #ffc107;
        border-radius: 4px;
      }

      .bank-info.show {
        display: block;
      }

      .bank-details p {
        margin-bottom: 8px;
      }

      .order-summary {
        position: sticky;
        top: 20px;
      }

      .form-control:focus {
        border-color: #71b979;
        box-shadow: 0 0 0 0.2rem rgba(113, 185, 121, 0.25);
      }

      .btn-success {
        background-color: #71b979;
        border-color: #71b979;
      }

      .btn-success:hover {
        background-color: #5fa368;
        border-color: #5fa368;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand fw-bold text-success" href="/index.html"
          >Nông Sản Việt</a
        >
        <span class="navbar-text">Thanh toán</span>
      </div>
    </nav>

    <main class="container my-5">
      <form id="payment-form" class="row g-4">
        <div class="col-lg-8">
          <div class="card mb-4">
            <div class="card-header bg-success text-white">
              <h5 class="mb-0">Thông tin giao hàng</h5>
            </div>
            <div class="card-body">
              <div class="row g-3">
                <div class="col-md-6">
                  <label for="name" class="form-label"
                    >Họ và tên <span class="text-danger">*</span></label
                  >
                  <input type="text" class="form-control" id="name" required />
                </div>
                <div class="col-md-6">
                  <label for="tel" class="form-label"
                    >Số điện thoại <span class="text-danger">*</span></label
                  >
                  <input type="tel" class="form-control" id="tel" required />
                </div>
                <div class="col-12">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" class="form-control" id="email" />
                </div>
                <div class="col-12">
                  <label for="place" class="form-label"
                    >Địa chỉ <span class="text-danger">*</span></label
                  >
                  <textarea
                    class="form-control"
                    id="place"
                    rows="2"
                    required
                  ></textarea>
                </div>
                <div class="col-12">
                  <label for="note" class="form-label">Ghi chú</label>
                  <textarea
                    class="form-control"
                    id="note"
                    rows="2"
                    placeholder="Thời gian giao hàng, lời nhắn..."
                  ></textarea>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header bg-success text-white">
              <h5 class="mb-0">Phương thức thanh toán</h5>
            </div>
            <div class="card-body">
              <div id="payment-methods-container">
                <div class="text-center py-3">
                  <div class="spinner-border text-success" role="status"></div>
                  <p>Đang tải phương thức thanh toán...</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-4">
          <div class="order-summary">
            <div class="card">
              <div class="card-header bg-light">
                <h5 class="mb-0">Đơn hàng</h5>
              </div>
              <div class="card-body">
                <div class="d-flex justify-content-between mb-2">
                  <span>Tạm tính:</span>
                  <span id="totalProductPrice">0đ</span>
                </div>
                <div class="d-flex justify-content-between mb-3">
                  <span>Phí vận chuyển:</span>
                  <span id="shipFee">20,000đ</span>
                </div>
                <hr />
                <div class="d-flex justify-content-between mb-3">
                  <strong>Tổng cộng:</strong>
                  <div id="totalPayment">
                    <strong class="text-success fs-4">0đ</strong>
                  </div>
                </div>

                <div class="mb-3">
                  <label for="code" class="form-label">Mã giảm giá</label>
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control"
                      id="code"
                      placeholder="Nhập mã"
                    />
                    <button
                      type="button"
                      class="btn btn-outline-secondary"
                      id="apply-discount-btn"
                    >
                      Áp dụng
                    </button>
                  </div>
                  <small class="text-muted"
                    >Mã ví dụ: NONGSANVIET, GIAMGIA50K</small
                  >
                </div>

                <button
                  type="submit"
                  class="btn btn-success w-100 py-2 fw-bold"
                >
                  <i class="ti-check"></i> Xác nhận đặt hàng
                </button>
              </div>
            </div>

            <div class="card mt-3">
              <div class="card-body">
                <h6 class="card-title">Cam kết của chúng tôi</h6>
                <ul class="list-unstyled mb-0">
                  <li class="mb-2">
                    <i class="ti-check text-success"></i> Sản phẩm tươi ngon
                  </li>
                  <li class="mb-2">
                    <i class="ti-check text-success"></i> Giao hàng nhanh chóng
                  </li>
                  <li class="mb-2">
                    <i class="ti-check text-success"></i> Đổi trả dễ dàng
                  </li>
                  <li><i class="ti-check text-success"></i> Hỗ trợ 24/7</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </form>
    </main>

    <footer class="bg-dark text-white py-4 mt-5">
      <div class="container text-center">
        <p class="mb-0">2024 Nông Sản Việt. All rights reserved.</p>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/api.js"></script>
    <script src="/assets/js/payment-handler.js"></script>
  </body>
</html>
