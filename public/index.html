<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nông Sản Việt</title>
  <link href="./img/icon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />
  <link rel="stylesheet" href="./assets/fonts/themify-icons/themify-icons.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="./assets/css/style.css" />
  <link rel="stylesheet" href="./assets/css/header&footer.css" />
  <link rel="stylesheet" href="./assets/css/homepage.css" />
  <link rel="stylesheet" href="./assets/css/product.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>

<body>
  <header>
    <div class="d-flex justify-content-between">
      <div class="empty"></div>
      <nav class="navbar navbar-expand-sm d-flex justify-content-center">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Trang chủ</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="about.html">Giới thiệu</a>
          </li>
        </ul>
        <div><img id="logo" src="./img/logo.png" alt="" /></div>
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="product.html">Sản phẩm</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="news.html">Tin tức</a>
          </li>
        </ul>
      </nav>
      <div class="d-flex justify-content-end">
        <div class="header-btn shopping-cart-btn">
          <div class="shopping-cart-icon position-relative"> <a href="cart.html">
              <i id="cart-icon" class="ti-shopping-cart text-secondary"></i>

              <span id="cart-count"
                class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                style="font-size: 0.6rem; display: none;">
                0
              </span>
            </a>
          </div>
        </div>
        <div class="header-btn account">
          <div class="nav-item dropdown account-icon">
            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#">
              <i id="user-icon" class="ti-user text-secondary"></i>
            </a>
            <ul class="dropdown-menu account-dropdown">
              <li>
                <a class="dropdown-item text-secondary" href="login.html">Đăng Nhập</a>
              </li>
              <li>
                <a class="dropdown-item text-secondary" href="signup.html">Đăng Ký</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="slider">
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide"><img src="img/banner1.png" alt="" /></div>
          <div class="swiper-slide"><img src="img/banner2.png" alt="" /></div>
          <div class="swiper-slide"><img src="img/banner3.png" alt="" /></div>
          <div class="swiper-slide"><img src="img/banner4.png" alt="" /></div>
        </div>
        <div class="swiper-button-next" style="color: #71b979"></div>
        <div class="swiper-button-prev" style="color: #71b979"></div>
      </div>
    </div>

    <div class="container list-container">
      <div class="title">
        <h4 class="text-center mt-5 mb-5">HÔM NAY ĂN GÌ?</h4>
      </div>
      <div class="row" id="productList"></div>
    </div>
    <br />

    <div class="container kop-list-container">
      <div class="title">
        <h4>DANH MỤC SẢN PHẨM</h4>
      </div>
      <div class="row kop-list text-center">
        <div class="col">
          <div onclick="searchProductsByCategory('trái cây')">
            <img class="m-3" src="./img/oi1.jpg" alt="" />
            <div class="mt-2 text-secondary kop">
              <p class="text-center">Trái cây</p>
            </div>
          </div>
        </div>
        <div class="col">
          <div onclick="searchProductsByCategory('rau lá')">
            <img class="m-3" src="./img/caingot1.jpg" alt="" />
            <div class="mt-2 text-secondary kop">
              <p class="text-center">Rau</p>
            </div>
          </div>
        </div>
        <div class="col">
          <div onclick="searchProductsByCategory('củ quả')">
            <img class="m-3" src="./img/cucaitrang1.jpg" alt="" />
            <div class="mt-2 text-secondary kop">
              <p class="text-center">Củ</p>
            </div>
          </div>
        </div>
        <div class="col">
          <div onclick="searchProductsByCategory('nấm')">
            <img class="m-3" src="./img/linhchi1.jpg" alt="" />
            <div class="mt-2 text-secondary kop">
              <p class="text-center">Nấm</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="infor-container">
      <div class="infor d-flex">
        <div class=""><img src="./img/infor-banner.png" alt="" /></div>
        <div class="flex-grow-1">
          <div class="content-container">
            <h4 class="m-3 text-center text-white title">
              CÁCH CHỌN NÔNG SẢN SẠCH
            </h4>
            <div class="content">
              <p>
                <b>Dựa vào hình dáng bên ngoài nông sản: </b>Nên lựa rau củ
                còn tươi...
              </p>
              <p>
                <b>Dựa vào mùi hương: </b>Mỗi loại rau củ quả đều sẽ có một
                mùi đặc trưng riêng...
              </p>
              <p>
                <b>Dựa vào tay để cảm nhận: </b>Những loại nông sản đạt chất
                lượng...
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="hot-news-container container">
      <div class="title">
        <h4>TIN TỨC NỔI BẬT</h4>
      </div>
      <div class="swiper hot-news">
        <div class="swiper-wrapper list">
          <div class="swiper-slide list-item">
            <img src="img/news1.jpg" alt="" />
            <div>
              <a href="news.html">
                <p class="list-title">
                  Nông Sản Việt: Điểm Sáng Trong Bức Tranh Kinh Tế
                </p>
              </a>
              <p class="list-content">
                Nông sản Việt Nam đang đóng góp tích cực...
              </p>
            </div>
          </div>
          <!-- More news items... -->
        </div>
        <div class="swiper-button-prev button"></div>
        <div class="swiper-button-next button"></div>
        <div class="swiper-pagination" style="color: #71b979"></div>
      </div>
    </div>
  </main>

  <button class="to-top" href="#"><i class="ti-angle-double-up"></i></button>
  <button class="contact-btn" href="#">
    <a href="contact.html"><i class="ti-headphone-alt"></i></a>
  </button>

  <footer class="">
    <div class="row">
      <div class="col">
        <h3 class="footer-tittle">Giới Thiệu</h3>
        <p>
          <b>Nông Sản Việt</b> là hành trình của những bạn trẻ nhiệt huyết...
        </p>
      </div>
      <div class="col contact-info">
        <h3 class="footer-tittle">Thông Tin Liên Hệ</h3>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <i class="ti-headphone-alt"> </i><i>0999 234 567</i>
          </li>
          <li class="list-group-item">
            <i class="ti-email"> </i><i>nongsanviet@gmail.com</i>
          </li>
          <li class="list-group-item">
            <i class="ti-location-arrow"> </i><i>Trường Đại Học Sư Phạm HCM</i>
          </li>
        </ul>
      </div>
      <div class="col">
        <img src="./img/logo.png" alt="" />
        <p class="copyright text-center">
          Nông Sản Việt © 2025. All rights reserved.
        </p>
      </div>
    </div>
  </footer>

  <!-- ===== SCRIPTS (Đúng thứ tự) ===== -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <!-- Load API wrapper TRƯỚC -->
  <script src="assets/js/api.js"></script>
  <!-- Load main logic SAU -->
  <script src="assets/js/main.js"></script>
  <!-- Load user state check -->
  <script src="assets/js/user-state.js"></script>

  <script>
    // Scroll To Top
    const toTopBtn = document.querySelector(".to-top");
    window.addEventListener("scroll", () => {
      toTopBtn.classList.toggle("active", window.pageYOffset > 50);
    });

    $(document).ready(function () {
      $(".to-top").click(function () {
        $("html, body").animate({ scrollTop: 0 }, 800);
        return false;
      });
    });

    // Initialize Swiper Slider
    var swiperBanner = new Swiper(".mySwiper", {
      spaceBetween: 0,
      centeredSlides: true,
      autoplay: { delay: 2500, disableOnInteraction: false },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });

    // Initialize Swiper Hot News
    var swiperNews = new Swiper(".hot-news", {
      slidesPerView: 3,
      centeredSlides: false,
      spaceBetween: 30,
      pagination: { el: ".swiper-pagination", type: "fraction" },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });

    // Load featured products on homepage
    window.addEventListener("DOMContentLoaded", async () => {
      // Wait for products to load, then display featured ones
      setTimeout(() => {
        if (window.allProducts && window.allProducts.length > 0) {
          // Show first 8 products or featured products
          const featured = window.allProducts
            .filter((p) => p.featured)
            .slice(0, 8);
          const toShow =
            featured.length > 0 ? featured : window.allProducts.slice(0, 8);
          displayProducts(toShow, document.getElementById("productList"));
        }
      }, 500);
    });
  </script>
</body>

</html>